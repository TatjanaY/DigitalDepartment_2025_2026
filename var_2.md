# 🧮 Кейс 2. Линейная оптимизация производственного плана с использованием SciPy

## Постановка задачи

Компания-производитель бытовой техники планирует оптимизировать выпуск трёх моделей электрочайников: **EcoHeat**, **TurboBoil** и **SmartKettle**.
Каждая модель требует разного количества ресурсов, приносит разную прибыль, и производство ограничено доступными мощностями цехов.

Задача — составить производственный план, который **максимизирует суммарную прибыль**, соблюдая все ограничения по ресурсам.
Студент должен применить методы **линейного программирования** и решить задачу с использованием `scipy.optimize.linprog`.

---

## Обязательные разделы итогового Jupyter Notebook

1. Постановка задачи
2. Описание исходных данных (Входные данные)
3. Формализация задачи (модель линейного программирования)
4. Предобработка данных (по необходимости)
5. Решение задачи оптимизации с помощью SciPy
6. Анализ результатов
7. Визуализации (обязательна столбчатая диаграмма выпуска моделей)
8. Выводы

---

## Входные данные

Компания выпускает три модели:

| Модель      | Прибыль за единицу | Трудозатраты (человеко-часы) | Пластик (кг) | Электроника (модули) |
| ----------- | ------------------ | ---------------------------- | ------------ | -------------------- |
| EcoHeat     | 18                 | 2                            | 1.5          | 1                    |
| TurboBoil   | 35                 | 3                            | 2.5          | 2                    |
| SmartKettle | 50                 | 4                            | 3            | 3                    |

**Ограничения ресурсов за смену:**

* Трудовые ресурсы: до 240 человеко-часов
* Пластик: до 300 кг
* Электронные модули: до 280 шт
* Производство каждой модели ≥ 0

**Слушателю необходимо:**

* оформить данные в виде таблиц или списков/массивов;
* привести все переменные и ограничения к линейной форме;
* определить целевую функцию максимизации прибыли.

---

## Задачи, которые необходимо выполнить

### 1. Формализация производственной задачи

Студент должен:

* Ввести переменные решения:
  `x1` — EcoHeat,
  `x2` — TurboBoil,
  `x3` — SmartKettle

* Записать целевую функцию:
  `maximize Z = 18·x1 + 35·x2 + 50·x3`

* Записать ограничения:

  **Трудозатраты:** `2x1 + 3x2 + 4x3 ≤ 240`
  **Пластик:** `1.5x1 + 2.5x2 + 3x3 ≤ 300`
  **Электроника:** `x1 + 2x2 + 3x3 ≤ 280`
  **Невозможность отрицательного производства:** `x ≥ 0`

---

### 2. Решение оптимизационной задачи

Необходимо:

* использовать `scipy.optimize.linprog`;
* корректно указать коэффициенты для ограничений и целевой функции;
* выбрать метод решения (например, `"highs"` или `"revised simplex"`);
* получить оптимальное число единиц каждого продукта.

---

### 3. Анализ результата

Студент должен:

* вывести оптимальные значения `x1`, `x2`, `x3`;
* рассчитать максимальную прибыль;
* проанализировать, какие ресурсы израсходованы полностью, а какие — нет;
* сделать выводы о выгодности модели.

---

### 4. Визуализации (расширенный анализ)

Студент должен построить несколько графиков, чтобы полноценно проанализировать результат:

#### 4.1. Столбчатая диаграмма оптимального выпуска моделей

* X — модели, Y — количество единиц
* Показывает, какие модели целесообразно производить

#### 4.2. Использование ресурсов vs доступные ресурсы

* Для каждого ресурса: труд, пластик, электроника
* Группированные столбцы: израсходовано / доступно
* Помогает определить узкие места

#### 4.3. Heatmap потребления ресурсов продуктами

* Oсь X — ресурсы, Oсь Y — продукты
* Яркость — количество потребления ресурса
* Показывает интенсивность использования ресурсов

#### 4.4. Сравнительная прибыльность моделей

* Bar chart: прибыль за единицу × оптимальное количество
* Позволяет увидеть вклад каждой модели в общую прибыль

#### 4.5. Slack-переменные (остатки ресурсов)

* Горизонтальная диаграмма: сколько ресурса осталось после оптимального плана
* Помогает визуально оценить, какие ресурсы ограничивающие

#### 4.6. Анализ чувствительности ресурсов

* Линейные или столбчатые диаграммы
* X — увеличение ресурса (+10%, +20%), Y — новая прибыль
* Отображает, какие ресурсы критичны для роста прибыли

---

### 5. Выводы

В финальном разделе слушатель должен:

* интерпретировать оптимальное решение;
* объяснить, какие ресурсы являются "узким местом";
* сформулировать рекомендации: например, увеличить запасы электроники или перераспределить трудовые ресурсы;
* отметить ограничения модели и возможности её расширения (целочисленные переменные, смешанные ограничения, учёт логистики и т.п.).

---