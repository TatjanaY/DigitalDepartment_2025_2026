# 🧠 HR-аналитика: текучесть персонала, карьерная мобильность и компенсации

## 🎯 Постановка задачи

HR-департамент крупной компании стремится снизить риски потери ключевых сотрудников и повысить эффективность управленческих решений на основе данных.

**Цель исследования** — определить:  
- какие **факторы коррелируют с фактической текучестью** (attrition);  
- какие **признаки указывают на намерение сотрудника сменить работу**;  
- как **обучение, опыт и карьерная динамика** влияют на удержание;  
- существует ли **разрыв между внутренними зарплатами и рыночными предложениями**.

В рамках кейса необходимо провести **комплексный HR-анализ** на основе **трёх взаимодополняющих датасетов**, включая расчёт ключевых метрик: **attrition rate, индекс риска ухода, компенсационный разрыв, влияние обучения**.

**Результатом выполнения задания** должен стать **Jupyter Notebook**, содержащий код, расчёты, функции, визуализации и аналитические выводы.

---

## 📦 Используемые датасеты

В рамках кейса используются **три датасета**, охватывающих внутренние HR-данные, намерения сотрудников и рыночные зарплаты.

### 📁 Входные данные (обзор)

---

### 📄 Датасет 1 — IBM HR Analytics: Employee Attrition & Performance  
**Kaggle:** [https://www.kaggle.com/datasets/pavansubhasht/ibm-hr-analytics-attrition-dataset](https://www.kaggle.com/datasets/pavansubhasht/ibm-hr-analytics-attrition-dataset)  

**Тип данных:** внутренние HR-данные сотрудников  

**Основные признаки:**  
- `Attrition` — факт увольнения (`Yes`/`No`)  
- `Age`, `Gender` — демография  
- `Department`, `JobRole` — должность и подразделение  
- `MonthlyIncome` — доход  
- `JobSatisfaction`, `WorkLifeBalance` — субъективные оценки  
- `OverTime` — переработки  
- `YearsAtCompany` — стаж в компании  

**Назначение:**  
Используется для анализа **фактической текучести**, выявления **факторов ухода** и **сегментации сотрудников по риску**.

---

### 📄 Датасет 2 — HR Analytics: Job Change of Data Scientists  
**Kaggle:** [https://www.kaggle.com/datasets/arashnic/hr-analytics-job-change-of-data-scientists](https://www.kaggle.com/datasets/arashnic/hr-analytics-job-change-of-data-scientists)  

**Тип данных:** данные о намерении сменить работу  

**Основные признаки:**  
- `target` — намерение уйти (`1` = уйдёт, `0` = останется)  
- `experience` — общий опыт работы  
- `company_size`, `company_type` — характеристики работодателя  
- `training_hours` — часы обучения  
- `relevent_experience` — релевантный опыт  
- `education_level` — уровень образования  
- `last_new_job` — время с последней смены работы  

**Назначение:**  
Позволяет анализировать **потенциальный attrition**, выявлять **ранние сигналы ухода** и оценивать **влияние обучения и карьерных пауз**.

---

### 📄 Датасет 3 — Glassdoor Job Salaries  
**Kaggle:** [https://www.kaggle.com/datasets/andrewmvd/data-analyst-jobs](https://www.kaggle.com/datasets/andrewmvd/data-analyst-jobs)  

**Тип данных:** рыночные данные о зарплатах  

**Основные признаки:**  
- `Job Title` — должность  
- `Salary Estimate` — диапазон зарплаты (например, `$70K–$90K`)  
- `Location` — регион  
- `Company Rating` — рейтинг работодателя  

**Назначение:**  
Используется для **сравнения внутренних зарплат** (из Датасета 1) с **рыночными предложениями**, выявления **компенсационных рисков**.

> ⚠️ **Важно**: датасеты **не связаны напрямую** (разные компании, форматы).  
> Совместный анализ выполняется **на агрегированном уровне** (например, «средний доход аналитиков» vs «рыночный диапазон»).

---

## 📝 Обязательные разделы итогового Jupyter Notebook

1. Предварительный анализ данных  
2. Предобработка данных  
3. Разработка функций для HR-анализа  
4. Разработка функции для формирования профилей сотрудников  
5. Разработка функций расчёта HR-метрик  
6. Визуализация HR-метрик  
7. Исследовательский анализ данных  
8. Анализ факторов текучести и мобильности  
9. Выводы  

---

## 🧩 Структура итогового Jupyter Notebook

### 1. 📊 Предварительный анализ данных  
**Цель раздела:** понять структуру, качество и ограничения данных.  

**Необходимо:**  
- вывести размеры таблиц (`shape`);  
- изучить типы данных (`info`);  
- оценить пропуски (особенно в `Salary Estimate`, `training_hours`);  
- проверить баланс целевых переменных (`Attrition`, `target`);  
- кратко описать особенности каждого датасета.  

**В конце раздела:** краткие выводы по данным и их пригодности к анализу.

---

### 2. 🧹 Предобработка данных  
**Цель раздела:** подготовить данные к расчёту метрик и сравнению.  

**Необходимо:**  
- привести `Salary Estimate` к числовому виду (например, среднее значение);  
- унифицировать должности (`JobRole` ↔ `Job Title`);  
- обработать пропуски (медиана для дохода, мода для категорий);  
- удалить аномалии (например, возраст < 18);  
- агрегировать данные по ролям и уровням.  

**В конце раздела:** промежуточные выводы о структуре и чистоте итогового датасета.

---

### 3. 🧠 Разработка функций для HR-анализа  
**Цель раздела:** создать переиспользуемый аналитический инструментарий.  

**Ключевое правило:**  
> Все функции — расчёта метрик и визуализации — создаются здесь,  
> но **графики строятся и анализируются в отдельном разделе**.

**В этом разделе разрабатываются функции:**

1. **Для агрегации данных:**  
   - по должностям;  
   - по стажу;  
   - по уровню образования.  

2. **Для фильтрации данных:**  
   - по факту ухода;  
   - по намерению уйти;  
   - по наличию переработок.  

3. **Для расчёта базовых метрик:**  
   - attrition rate;  
   - доля намерения уйти;  
   - средний доход;  
   - средний стаж.  

4. **Для формирования профилей сотрудников:**  
   - «высокорисковые» (низкая удовлетворённость + высокие переработки);  
   - «стабильные» (долгий стаж + высокая оценка баланса);  
   - «карьерно активные» (частая смена работы + высокое обучение).  

5. **Для расчёта HR-метрик:**  
   - индекс риска ухода;  
   - компенсационный разрыв;  
   - ROI программ обучения.  

6. **Для визуализации:**  
   - bar chart;  
   - boxplot;  
   - heatmap;  
   - scatter plot;  
   - histogram.  

**Структура раздела:**  
- краткое введение в воспроизводимость в HR-аналитике;  
- реализация функций с аннотациями;  
- перечень функций и их назначение.

---

### 4. 👤 Формирование профилей сотрудников  
**Цель раздела:** сегментировать персонал по поведению и риску.  

**Необходимо:**  
- использовать разработанные функции;  
- выделить группы:  
  - «уходящие из-за зарплаты»;  
  - «выгорающие из-за переработок»;  
  - «ищущие рост через обучение»;  
- сопоставить профили с рыночными данными.  

**В конце раздела:** выводы по выявленным сегментам и их управленческой значимости.

---

### 5. 📐 Расчёт HR-метрик  

#### 5.1 📉 Текучесть и намерения  
- attrition rate по департаментам и ролям;  
- доля `target = 1` по уровню опыта;  
- средний стаж до ухода.  

#### 5.2 💰 Компенсационный анализ  
- сравнение `MonthlyIncome` с рыночным `Salary Estimate`;  
- расчёт разрыва в %;  
- выявление ролей с наибольшим дефицитом.  

#### 5.3 📚 Влияние обучения и карьеры  
- связь `training_hours` и `target`;  
- влияние `last_new_job` на намерение уйти;  
- ROI инвестиций в обучение (гипотетический).

---

### 6. 📉 Визуализация HR-метрик  
**Цель раздела:** визуально представить и интерпретировать результаты.  

**Визуализации:**  

1. **📊 Текучесть**  
   - Bar chart: attrition rate по ролям;  
   - Boxplot: доход у уволившихся и остающихся.  

2. **📈 Намерения**  
   - Heatmap: `training_hours` × `target`;  
   - Histogram: распределение опыта у «уходящих».  

3. **💰 Зарплаты**  
   - Scatter plot: X — внутренний доход, Y — рыночная зарплата, цвет — роль;  
   - Bar chart: компенсационный разрыв по департаментам.  

**В конце раздела:** выводы по визуальному анализу — ключевые риски, зависимости, аномалии.

---

### 7. 🔍 Исследовательский анализ данных  
**Цель раздела:** выявить скрытые закономерности.  

**Необходимо:**  
- сравнить профили фактических и потенциальных «уходящих»;  
- исследовать нелинейные эффекты (например, «переобучение»);  
- проанализировать роль `WorkLifeBalance` в удержании;  
- проверить гипотезу: «сотрудники с частой сменой работы менее лояльны».

---

### 8. ⚠️ Анализ факторов текучести и мобильности  
**Цель раздела:** количественно оценить вклад каждого фактора.  

**Необходимо:**  
- рассчитать **индекс риска ухода** на основе комбинации признаков;  
- определить **топ-3 самых влиятельных факторов**;  
- оценить **потенциальный эффект от мер удержания** (например, снижение переработок);  
- сформулировать **гипотезы для A/B-тестов** (например, пилот программы менторства).

---

### 9. 🧾 Выводы  
В финальном разделе необходимо:  
- сформулировать **ключевые HR-инсайты**;  
- определить **группы высокого риска ухода**;  
- предложить **конкретные рекомендации** по:  
  - корректировке компенсаций;  
  - оптимизации нагрузки;  
  - развитию карьерных треков;  
  - программам удержания;  
- указать **ограничения исследования** (разные компании, отсутствие данных о причинах ухода);  
- обозначить **направления для дальнейшего анализа** (прогноз attrition с ML, анализ exit-interviews, интеграция с данными engagement).

---

Готов к следующему из 10 кейсов!