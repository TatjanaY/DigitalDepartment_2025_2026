# 🌍 Кейс . Аналитика климата и окружающей среды: температура, загрязнение воздуха и погодные аномалии

## 🎯 Постановка задачи

Исследовательский центр или экологическая организация стремится понять глобальные и локальные изменения климата, оценить состояние окружающей среды и выявить регионы с повышенными экологическими рисками.

**Цель исследования** — определить:  
- какие **регионы и периоды** демонстрируют наибольший рост температуры;  
- где **уровень загрязнения воздуха** превышает безопасные нормы;  
- как **частота и интенсивность экстремальных погодных явлений** меняются во времени;  
- существует ли **статистическая связь** между температурой, качеством воздуха и природными катастрофами.

В рамках кейса необходимо провести **многоаспектный экологический анализ** на основе **трёх взаимодополняющих датасетов**, включая расчёт ключевых метрик: **среднегодовая температура, концентрация PM2.5, частота экстремальных событий, аномалии климата**.

**Результатом выполнения задания** должен стать **Jupyter Notebook**, содержащий код, расчёты, функции, визуализации и аналитические выводы.

---

## 📦 Используемые датасеты

В рамках кейса используются **три датасета**, охватывающих глобальные температуры, качество воздуха и экстремальные погодные явления.

### 📁 Входные данные (обзор)

---

### 📄 Датасет 1 — Global Land Temperatures  
**Kaggle:** [https://www.kaggle.com/datasets/berkeleyearth/climate-change-earth-surface-temperature-data](https://www.kaggle.com/datasets/berkeleyearth/climate-change-earth-surface-temperature-data)  

**Тип данных:** исторические температурные измерения  

**Основные признаки:**  
- `dt` — дата измерения  
- `AverageTemperature` — средняя температура  
- `City`, `Country` — географическое расположение станции  
- `Latitude`, `Longitude` — координаты  

**Назначение:**  
Используется для анализа **долгосрочных климатических трендов**, выявления **температурных аномалий** и **региональных различий** в изменении климата.

---

### 📄 Датасет 2 — World Air Quality Data 2024  
**Kaggle:** [https://www.kaggle.com/datasets/kanchana1990/world-air-quality-data-2024-updated](https://www.kaggle.com/datasets/kanchana1990/world-air-quality-data-2024-updated)  

**Тип данных:** данные о загрязнении воздуха  

**Основные признаки:**  
- `City`, `Country` — регион измерения  
- `Date` — дата наблюдения  
- `PM2.5`, `PM10`, `NO2`, `CO`, `O3` — концентрация загрязняющих веществ  
- `AQI` — индекс качества воздуха  

**Назначение:**  
Позволяет анализировать **качество воздуха**, выявлять **регионы с высоким уровнем загрязнения** и сопоставлять данные с климатическими показателями.

---

### 📄 Датасет 3 — US Weather Events  
**Kaggle:** [https://www.kaggle.com/datasets/sobhanmoosavi/us-weather-events](https://www.kaggle.com/datasets/sobhanmoosavi/us-weather-events)  

**Тип данных:** экстремальные погодные явления в США  

**Основные признаки:**  
- `Event` — тип события (ураган, торнадо, наводнение, засуха и др.)  
- `Start_Time`, `End_Time` — временные рамки события  
- `State`, `County` — географическое расположение  
- `Severity` — категория серьёзности  

**Назначение:**  
Используется для анализа **динамики природных катастроф**, **региональной уязвимости** и **сезонности экстремальных явлений**.

---

## 📝 Обязательные разделы итогового Jupyter Notebook

1. Предварительный анализ данных  
2. Предобработка данных  
3. Разработка функций для анализа данных  
4. Разработка функции для анализа климатических и экологических показателей  
5. Разработка функций расчёта ключевых экологических метрик  
6. Визуализация климатических и экологических показателей  
7. Исследовательский анализ данных  
8. Экологические и управленческие выводы  
9. Выводы  

---

## 🧩 Структура итогового Jupyter Notebook

### 1. 📊 Предварительный анализ данных  
**Цель раздела:** понять структуру, качество и ограничения данных.  

**Необходимо:**  
- вывести размеры таблиц (`shape`);  
- изучить типы данных (`info`);  
- оценить пропуски (особенно в `AverageTemperature`, `PM2.5`);  
- проверить временные диапазоны (например, 1750–2013 для температур);  
- кратко описать особенности каждого датасета.  

**В конце раздела:** краткие выводы по данным и их пригодности к анализу.

---

### 2. 🧹 Предобработка данных  
**Цель раздела:** подготовить данные к расчёту метрик и объединению.  

**Необходимо:**  
- привести все даты (`dt`, `Date`, `Start_Time`) к формату `datetime`;  
- удалить записи с критическими пропусками (`PM2.5 = NaN`, `AverageTemperature = NaN`);  
- обработать аномалии (например, температура > 60°C);  
- нормализовать единицы измерения (например, все загрязнители в мкг/м³);  
- агрегировать данные по годам и регионам;  
- создать единые геоидентификаторы (`Country + City`).  

**В конце раздела:** промежуточные выводы о структуре и чистоте итогового датасета.

---

### 3. 🧠 Разработка функций для анализа данных  
**Цель раздела:** создать переиспользуемый аналитический инструментарий.  

**Ключевое правило:**  
> Все функции — расчёта метрик и визуализации — создаются здесь,  
> но **графики строятся и анализируются в отдельном разделе**.

**В этом разделе разрабатываются функции:**

1. **Для агрегации данных:**  
   - по годам и месяцам;  
   - по странам и городам;  
   - по типу погодного события.  

2. **Для расчёта экологических метрик:**  
   - `annual_avg_temp(temperatures, year)`;  
   - `aqi_category(pm25_value)`;  
   - `extreme_event_frequency(state, period)`.  

3. **Для анализа аномалий:**  
   - функция определения температурных аномалий (отклонение > 2σ);  
   - функция выявления «дней с критическим загрязнением».  

4. **Для визуализации:**  
   - line chart (тренды);  
   - heatmap (география загрязнения);  
   - bar chart (частота событий);  
   - scatter plot (корреляции).  

**Структура раздела:**  
- краткое введение в воспроизводимость в экологической аналитике;  
- реализация функций с аннотациями;  
- перечень функций и их назначение.

---

### 4. 🌡️ Анализ климатических и экологических показателей  
**Цель раздела:** сформировать профили регионов и временных периодов.  

**Необходимо:**  
- использовать разработанные функции;  
- выделить:  
  - **регионы с максимальным ростом температуры** (например, Арктика, Ближний Восток);  
  - **города с хроническим загрязнением воздуха** (PM2.5 > 50 мкг/м³);  
  - **зоны с высокой частотой экстремальных явлений** (например, Техас, Флорида);  
- сопоставить тренды: «растёт ли загрязнение в регионах с ростом температуры?».

**В конце раздела:** выводы по выявленным паттернам и региональным рискам.

---

### 5. 📐 Расчёт ключевых экологических метрик  

#### 5.1 🌡️ Температурные тренды  
- среднегодовая температура по странам;  
- отклонение от базового периода (например, 1951–1980);  
- количество «аномально тёплых» лет.  

#### 5.2 🌫️ Качество воздуха  
- средняя концентрация PM2.5 по городам;  
- доля дней с AQI > 100 («нездоровый» уровень);  
- сравнение по регионам (Азия vs Европа vs Америка).  

#### 5.3 🌪️ Экстремальные погодные явления  
- частота ураганов, торнадо, наводнений по годам;  
- сезонность событий;  
- географическая концентрация рисков.

---

### 6. 📉 Визуализация климатических и экологических показателей  
**Цель раздела:** визуально представить и интерпретировать результаты.  

**Визуализации:**  

1. **🌡️ Климат**  
   - Line chart: глобальная средняя температура (1850–2020);  
   - Line chart: температура по регионам (сравнение тенденций).  

2. **🌫️ Загрязнение**  
   - Heatmap: PM2.5 по городам и годам;  
   - Bar chart: топ-10 городов с худшим качеством воздуха.  

3. **🌪️ Погодные аномалии**  
   - Bar chart: количество экстремальных событий по годам;  
   - Scatter plot: X — средняя температура, Y — PM2.5, цвет — регион.  

**В конце раздела:** выводы по визуальному анализу — ключевые тренды, аномалии, корреляции.

---

### 7. 🔍 Исследовательский анализ данных  
**Цель раздела:** выявить скрытые связи и проверить гипотезы.  

**Необходимо:**  
- проверить: «Существует ли корреляция между летней температурой и PM2.5?»;  
- исследовать: «Увеличивается ли частота торнадо в последние 20 лет?»;  
- проанализировать: «Какие страны демонстрируют улучшение качества воздуха?»;  
- выявить: «Есть ли связь между засухами и температурными аномалиями?».

---

### 8. 🌱 Экологические и управленческие выводы  
**Цель раздела:** перевести аналитику в рекомендации.  

**Необходимо:**  
- сформулировать **ключевые экологические инсайты**;  
- определить **регионы с критическим уровнем риска**;  
- предложить **меры по мониторингу и снижению воздействия** (например, ограничение выбросов в городах с высоким PM2.5);  
- оценить **потенциал раннего предупреждения** на основе погодных трендов.

---

### 9. 🧾 Выводы  
В финальном разделе необходимо:  
- сформулировать **ключевые климатические и экологические инсайты**;  
- определить **регионы с наибольшими рисками и трендами ухудшения**;  
- оценить **взаимосвязь между температурой, загрязнением и экстремальными явлениями**;  
- предложить **конкретные рекомендации** для экологических организаций;  
- указать **ограничения исследования** (например, неравномерное покрытие станциями, отсутствие данных по Африке);  
- обозначить **направления для дальнейшего анализа** (модели прогнозирования, интеграция с данными спутников, анализ углеродного следа).

---

