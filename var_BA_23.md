# 📈 Анализ финансовых рынков и макроэкономических факторов

## 🎯 Постановка задачи

Инвестиционная компания, исследовательский центр или аналитическая команда стремится понять, как **криптовалютные и традиционные финансовые рынки** взаимодействуют друг с другом и реагируют на **макроэкономические условия** в разных странах.

**Цель исследования** — определить:  
- какие **тренды и паттерны** проявляются в динамике цен криптоактивов и акций;  
- существует ли **статистическая корреляция** между движениями Bitcoin/Ethereum и индексами S&P 500;  
- как **ВВП, уровень жизни и другие макроэкономические показатели** влияют на инвестиционную активность и волатильность рынков.

> ⚠️ **Важно**: датасеты охватывают **разные уровни агрегации** (временные ряды активов, национальные индикаторы) и **не связаны напрямую**.  
> Анализ проводится **параллельно по трём блокам**, с возможной **концептуальной интерпретацией** на этапе выводов.

В рамках кейса необходимо провести **многофакторный анализ финансовых временных рядов**, включая расчёт ключевых метрик: **доходность, волатильность, корреляция, сезонность, тренды**.

**Результатом выполнения задания** должен стать **Jupyter Notebook**, содержащий код, расчёты, функции, визуализации и аналитические выводы.

---

## 📦 Используемые датасеты

В рамках кейса используются **три независимых датасета**, отражающих крипторынок, фондовый рынок и макроэкономику.

### 📁 Входные данные (обзор)

---

### 📄 Датасет 1 — Cryptocurrency Historical Market Data  
**Kaggle:** [https://www.kaggle.com/datasets/sudalairajkumar/cryptocurrencypricehistory](https://www.kaggle.com/datasets/sudalairajkumar/cryptocurrencypricehistory)  

**Тип данных:** исторические цены криптовалют  

**Основные признаки:**  
- `Date` — дата  
- `Symbol` — тикер (BTC, ETH и др.)  
- `Open`, `High`, `Low`, `Close` — OHLC-цены  
- `Volume` — объём торгов  
- `Market Cap` — рыночная капитализация  

**Назначение:**  
Используется для анализа **динамики, волатильности и трендов** криптовалют, выявления **периодов роста/падения** и **сравнения активов**.

---

### 📄 Датасет 2 — S&P 500 Stock Data  
**Kaggle:** [https://www.kaggle.com/datasets/camnugent/sandp500](https://www.kaggle.com/datasets/camnugent/sandp500)  

**Тип данных:** исторические данные по акциям S&P 500  

**Основные признаки:**  
- `Date` — дата  
- `Ticker` — тикер компании  
- `Open`, `High`, `Low`, `Close` — OHLC-цены  
- `Volume` — объём торгов  

**Назначение:**  
Позволяет анализировать **поведение традиционного фондового рынка**, выявлять **сезонные эффекты**, **секторальные тренды** и **сравнивать с крипторынком**.

---

### 📄 Датасет 3 — Global Data: GDP, Life Expectancy & More  
**Kaggle:** [https://www.kaggle.com/datasets/arslaan5/global-data-gdp-life-expectancy-and-more](https://www.kaggle.com/datasets/arslaan5/global-data-gdp-life-expectancy-and-more)  

**Тип данных:** макроэкономические и социальные индикаторы  

**Основные признаки:**  
- `Country` — страна  
- `GDP` — валовой внутренний продукт  
- `LifeExpectancy` — ожидаемая продолжительность жизни  
- `Population`, `Education Index` — демографические и социальные показатели  

**Назначение:**  
Используется для **контекстуализации финансовых рынков**, выявления **взаимосвязи между экономическим развитием и инвестиционной активностью**.

---

## 📝 Обязательные разделы итогового Jupyter Notebook

1. Предварительный анализ данных  
2. Предобработка данных  
3. Разработка функций для анализа данных  
4. Разработка функции для формирования исследовательских метрик  
5. Разработка функций расчёта распределений и корреляций  
6. Визуализация ключевых выводов  
7. Исследовательский анализ данных  
8. Интерпретация финансовых и макроэкономических паттернов  
9. Выводы  

---

## 🧩 Структура итогового Jupyter Notebook

### 1. 📊 Предварительный анализ данных  
**Цель раздела:** понять структуру, качество и ограничения данных.  

**Необходимо:**  
- вывести размеры таблиц (`shape`);  
- изучить типы данных (`info`);  
- оценить пропуски (особенно в `Market Cap`, `GDP`);  
- проверить аномалии (например, отрицательные цены, нулевой объём);  
- кратко описать особенности каждого датасета.  

**В конце раздела:** краткие выводы по данным и их пригодности к анализу.

---

### 2. 🧹 Предобработка данных  
**Цель раздела:** подготовить данные к расчёту метрик и визуализации.  

**Необходимо:**  
- привести все даты к формату `datetime`;  
- рассчитать производные признаки:  
  - `return = (Close - Open) / Open`;  
  - `volatility = High - Low`;  
- обработать пропуски (интерполяция для временных рядов, медиана для макро);  
- агрегировать данные по дням/месяцам;  
- унифицировать страны (если требуется).  

**В конце раздела:** промежуточные выводы о структуре и чистоте итогового датасета.

---

### 3. 🧠 Разработка функций для анализа данных  
**Цель раздела:** создать переиспользуемый аналитический инструментарий.  

**Ключевое правило:**  
> Все функции — расчёта метрик и визуализации — создаются здесь,  
> но **графики строятся и анализируются в отдельном разделе**.

**В этом разделе разрабатываются функции:**

1. **Для агрегации данных:**  
   - по времени (день, неделя, месяц);  
   - по активам (`Symbol`, `Ticker`).  

2. **Для расчёта финансовых метрик:**  
   - доходность;  
   - волатильность;  
   - максимальная просадка.  

3. **Для расчёта корреляций:**  
   - между крипто и акциями;  
   - между активами и макроиндикаторами.  

4. **Для визуализации:**  
   - line chart;  
   - scatter plot;  
   - heatmap;  
   - bar chart.  

**Структура раздела:**  
- краткое введение в финансовую аналитику;  
- реализация функций с аннотациями;  
- перечень функций и их назначение.

---

### 4. 📈 Формирование исследовательских метрик  

#### 4.1 💰 Криптовалюты  
- средняя доходность по активам;  
- волатильность BTC vs ETH;  
- объём торгов во времени.  

#### 4.2 📊 Фондовый рынок  
- доходность топ-10 акций S&P 500;  
- сезонность («январский эффект», летняя спячка);  
- корреляция внутри секторов.  

#### 4.3 🌍 Макроэкономика  
- топ-10 стран по ВВП и продолжительности жизни;  
- распределение макроиндикаторов;  
- динамика ВВП по годам.

---

### 5. 🔗 Анализ распределений и корреляций  

#### 5.1 Крипто vs Акции  
- корреляция между BTC и S&P 500;  
- совместные пики волатильности.  

#### 5.2 Рынки vs Макро  
- связь ВВП страны с объёмом торгов на её биржах (косвенно);  
- влияние уровня жизни на инвестиционную культуру (гипотетически).  

#### 5.3 Внутрирыночные паттерны  
- автокорреляция доходности;  
- кластеризация активов по поведению.

---

### 6. 📉 Визуализация ключевых выводов  
**Цель раздела:** визуально представить и интерпретировать результаты.  

**Визуализации:**  

1. **💰 Криптовалюты**  
   - Line chart: цена BTC и ETH (2015–2023);  
   - Bar chart: волатильность по криптоактивам.  

2. **📊 Фондовый рынок**  
   - Line chart: S&P 500 vs BTC (нормализованные);  
   - Heatmap: корреляция доходностей акций.  

3. **🌍 Макроэкономика**  
   - Scatter plot: X — ВВП, Y — Life Expectancy;  
   - Bar chart: топ-10 стран по ВВП.  

**В конце раздела:** выводы по визуальному анализу — ключевые зависимости, аномалии, неожиданные связи.

---

### 7. 🔍 Исследовательский анализ данных  
**Цель раздела:** выявить скрытые закономерности.  

**Необходимо:**  
- исследовать «кризисные» периоды (2020, 2022) на обоих рынках;  
- сравнить поведение «устойчивых» и «спекулятивных» активов;  
- проверить гипотезу: «чем выше ВВП — тем ниже волатильность рынка».

---

### 8. 📊 Интерпретация финансовых и макроэкономических паттернов  
**Цель раздела:** перевести данные в инвестиционные и стратегические рекомендации.  

**Необходимо:**  
- сформулировать **гипотезы о причинах корреляций** (глобальная ликвидность, риск-аппетит);  
- предложить **методы верификации** (регрессионный анализ, Granger causality);  
- оценить **потенциал использования таких данных** в алгоритмической торговле, риск-менеджменте, макроанализе.

---

### 9. 🧾 Выводы  
В финальном разделе необходимо:  
- сформулировать **ключевые финансовые инсайты** по каждому блоку;  
- определить **наиболее значимые корреляции и тренды**;  
- предложить **практические рекомендации** для:  
  - портфельного инвестора;  
  - трейдера;  
  - макроаналитика;  
- указать **ограничения исследования** (отсутствие данных по процентным ставкам, инфляции, прямой связи между странами и активами);  
- обозначить **направления для дальнейшего анализа** (многомерное моделирование, прогнозирование с ML, анализ on-chain данных).

---